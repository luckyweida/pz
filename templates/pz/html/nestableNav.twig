{% macro nest(node, depth) %}
    {% from _self import nest as nest %}
    <li class="dd-item dd3-item content-container" data-id="{{ node.id }}">
        <div class="dd-handle dd3-handle"></div>
        <div class="dd-handle dd3-handle"></div>
        <div class="dd3-content">
            <span>{{ node.title }}</span>
            <a href="#" data-id="{{ node.id }}" data-classname="{{ node.extras.model.className }}" data-status="{{ node.status }}" class="js-status isactive btn btn-xs btn-circle {{ node.status ? 'btn-primary' : 'btn-danger' }} btn-outline">
                <i class="fa {{ node.status ? 'fa-toggle-on' : 'fa-toggle-off' }}"></i>
            </a>
            <a href="/pz/{{ node.extras.model.dataType == 0 ? 'database' : 'admin' }}/{{ node.extras.model.id }}/detail/{{ node.id }}?returnUrl={{ app.request.uri|url_encode }}" class="edit btn btn-xs btn-circle btn-primary btn-outline"><i class="fa fa-pencil"></i></a>
            <a href="/pz/{{ node.extras.model.dataType == 0 ? 'database' : 'admin' }}/{{ node.extras.model.id }}/copy/{{ node.id }}?returnUrl={{ app.request.uri|url_encode }}" class="copy btn btn-xs btn-circle btn-primary btn-outline"><i class="fa fa-copy"></i></a>
            <a href="#" data-id="{{ node.id }}" data-classname="{{ node.extras.model.className }}" class="js-delete delete btn btn-xs btn-circle btn-danger"><i class="fa fa-times"></i></a>
        </div>
        {% if node.children|length %}
            <ol class="dd-list">
                {% for itm in node.children %}
                    {{ nest(itm, depth + 1) }}
                {% endfor %}
            </ol>
        {% endif %}
    </li>
{% endmacro %}
